{"version":3,"sources":["kendo.window.js"],"names":["f","define","$","undefined","defined","x","constrain","value","low","high","Math","max","min","parseInt","Infinity","executableScript","this","type","toLowerCase","indexOf","WindowResizing","wnd","that","owner","_preventDragging","_draggable","Draggable","wrapper","filter","KWINDOWRESIZEHANDLES","group","id","dragstart","proxy","drag","dragend","userEvents","bind","addOverlay","removeOverlay","getPosition","elem","parentOverflowX","parentOverflowY","result","top","offsetTop","left","offsetLeft","parent","offsetParent","css","scrollTop","scrollLeft","WindowDragging","dragHandle","dragcancel","stopPropagation","kendo","window","Widget","ui","TabKeyTrap","Popup","isPlainObject","activeElement","_activeElement","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","each","template","BODY","NS","MODAL_NS","KWINDOW","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KDIALOGCONTENT","KOVERLAY","KCONTENTFRAME","LOADING","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","VISIBLE","HIDDEN","CURSOR","OPEN","ACTIVATE","DEACTIVATE","CLOSE","REFRESH","MINIMIZE","MAXIMIZE","RESIZESTART","RESIZE","RESIZEEND","DRAGSTART","DRAGEND","ERROR","OVERFLOW","DATADOCOVERFLOWRULE","ZINDEX","MINIMIZE_MAXIMIZE","KPIN","KUNPIN","PIN_UNPIN","TITLEBAR_BUTTONS","REFRESHICON","WINDOWEVENTSHANDLED","zero","isLocalUrl","Window","init","element","options","visibility","display","position","content","windowContent","windowFrame","globalWindow","offset","isVisible","suppressActions","actions","length","fn","call","appendTo","url","find","remove","is","visible","closest","addClass","_createWindow","_dimensions","_position","refresh","toFront","children","_tabindex","modal","_overlay","opacity","on","_buttonEnter","_buttonLeave","_windowActionHandler","_keydown","_focus","_blur","data","windowInstance","document","widgetInstance","not","i","_resizable","pinned","pin","attr","role","aria-labelledby","add","touchScroller","_resizeHandler","_onDocumentResize","_marker","guid","substring","trigger","notify","_tabKeyTrap","trap","shouldTrap","e","currentTarget","removeClass","width","height","maxHeight","dimensions","title","isNaN","minWidth","maxWidth","minHeight","hide","_animationOptions","animation","basicAnimation","open","effects","close","_resize","resize","resizable","resizing","off","destroy","target","toggleMaximization","split","index","handler","append","templates","resizeHandle","draggable","dragging","_actions","titlebar","container","windowSpecificCommands","map","action","name","html","render","setOptions","scrollable","cachedOptions","JSON","parse","stringify","restore","events","zoom","direction","fade","duration","properties","scale","autoFocus","isMaximized","isMinimized","_closable","inArray","handled","newWidth","newHeight","w","h","keys","keyCode","distance","ESC","_close","_closing","altKey","unpin","UP","focus","maximize","DOWN","minimize","ctrlKey","getOffset","LEFT","RIGHT","preventDefault","overlay","insertBefore","toggle","_actionForIcon","icon","iconClass","exec","className","k-i-close","k-i-window-maximize","k-i-window-minimize","k-i-window-restore","k-i-refresh","k-i-pin","k-i-unpin","_modals","zStack","dom","object","_object","sort","a","b","widget","center","newTop","newLeft","documentWindow","_isPinned","text","titleBarHeight","titleBar","arguments","htmlEncode","prepend","scrollContainer","angular","elements","empty","push","dataItem","otherModalsVisible","overlayFx","showOptions","contentElement","doc","kendoStop","Fade","fx","fadeIn","endValue","play","show","kendoAnimate","complete","_activate","_documentScrollTop","_documentScrollLeft","_stopDocumentScrolling","_removeOverlay","suppressAnimation","modals","hideOverlay","hideOptions","fadeOut","startValue","last","systemTriggered","defaultPrevented","userTriggered","reverse","_deactivate","_enableDocumentScrolling","lastModal","_actionable","_shouldFocus","active","windowTop","currentWindow","zIndex","originalZIndex","windowObject","zIndexNew","style","setTimeout","restoreOptions","end","removeAttr","_sizingAction","actionId","callback","eq","before","$html","$body","_storeOverflowRule","_restoreOverflowRule","body","$element","_isOverflowStored","overflowRule","get","overflow","removeData","win","lrBorderWidth","tbBorderWidth","zoomLevel","support","iframe","showIframe","initOptions","src","contentFrame","unbind","_triggerRefresh","_ajaxRequest","toggleClass","_ajaxComplete","clearTimeout","_loadingIconTimeout","_ajaxError","xhr","status","_ajaxSuccess","contentTemplate","prop","_showLoading","ajax","dataType","cache","error","success","_destroy","iframeSrcAttributes","contentHtml","isRtl","getAttribute","editor","prototype","marginTop","marginLeft","hasMargin","wrapperPosition","relativeElMarginLeft","relativeElMarginTop","elementPadding","initialPosition","resizeDirection","replace","initialSize","containerOffset","test","_relativeElMarginLeft","_relativeElMarginTop","windowBottom","windowRight","y","newWindowTop","location","reset","initialWindowPosition","initialPointerPosition","client","startPosition","minLeftPosition","minTopPosition","transforms","_finishDrag","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.window.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.window', [\n        'kendo.draganddrop',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'window',\n        name: 'Window',\n        category: 'web',\n        description: 'The Window widget displays content in a modal or non-modal HTML window.',\n        depends: [\n            'draganddrop',\n            'popup'\n        ],\n        features: [{\n                id: 'window-fx',\n                name: 'Animation',\n                description: 'Support for animation',\n                depends: ['fx']\n            }]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, Widget = kendo.ui.Widget, TabKeyTrap = kendo.ui.Popup.TabKeyTrap, Draggable = kendo.ui.Draggable, isPlainObject = $.isPlainObject, activeElement = kendo._activeElement, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, proxy = $.proxy, extend = $.extend, each = $.each, template = kendo.template, BODY = 'body', templates, NS = '.kendoWindow', MODAL_NS = '.kendoWindowModal', KWINDOW = '.k-window', KWINDOWTITLE = '.k-window-title', KWINDOWTITLEBAR = KWINDOWTITLE + 'bar', KWINDOWCONTENT = '.k-window-content', KDIALOGCONTENT = '.k-dialog-content', KWINDOWRESIZEHANDLES = '.k-resize-handle', KOVERLAY = '.k-overlay', KCONTENTFRAME = 'k-content-frame', LOADING = 'k-i-loading', KHOVERSTATE = 'k-state-hover', KFOCUSEDSTATE = 'k-state-focused', MAXIMIZEDSTATE = 'k-window-maximized', VISIBLE = ':visible', HIDDEN = 'hidden', CURSOR = 'cursor', OPEN = 'open', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', CLOSE = 'close', REFRESH = 'refresh', MINIMIZE = 'minimize', MAXIMIZE = 'maximize', RESIZESTART = 'resizeStart', RESIZE = 'resize', RESIZEEND = 'resizeEnd', DRAGSTART = 'dragstart', DRAGEND = 'dragend', ERROR = 'error', OVERFLOW = 'overflow', DATADOCOVERFLOWRULE = 'original-overflow-rule', ZINDEX = 'zIndex', MINIMIZE_MAXIMIZE = '.k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize', KPIN = '.k-i-pin', KUNPIN = '.k-i-unpin', PIN_UNPIN = KPIN + ',' + KUNPIN, TITLEBAR_BUTTONS = '.k-window-titlebar .k-window-action', REFRESHICON = '.k-window-titlebar .k-i-refresh', WINDOWEVENTSHANDLED = 'WindowEventsHandled', zero = /^0[a-z]*$/i, isLocalUrl = kendo.isLocalUrl;\n        function defined(x) {\n            return typeof x != 'undefined';\n        }\n        function constrain(value, low, high) {\n            return Math.max(Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)), parseInt(low, 10));\n        }\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf('script') >= 0;\n        }\n        var Window = Widget.extend({\n            init: function (element, options) {\n                var that = this, wrapper, offset = {}, visibility, display, position, isVisible = false, content, windowContent, windowFrame, globalWindow, suppressActions = options && options.actions && !options.actions.length, id;\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                globalWindow = $(window);\n                if (suppressActions) {\n                    options.actions = [];\n                }\n                that.appendTo = $(options.appendTo);\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n                element.find('script').filter(executableScript).remove();\n                if (!element.parent().is(that.appendTo) && (position.top === undefined || position.left === undefined)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css('visibility');\n                        display = element.css('display');\n                        element.css({\n                            visibility: HIDDEN,\n                            display: ''\n                        });\n                        offset = element.offset();\n                        element.css({\n                            visibility: visibility,\n                            display: display\n                        });\n                    }\n                    if (position.top === undefined) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined) {\n                        position.left = offset.left;\n                    }\n                }\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n                wrapper = that.wrapper = element.closest(KWINDOW);\n                if (!element.is('.k-content') || !wrapper[0]) {\n                    element.addClass('k-window-content k-content');\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n                    that._dimensions();\n                }\n                that._position();\n                if (content) {\n                    that.refresh(content);\n                }\n                if (options.visible) {\n                    that.toFront();\n                }\n                windowContent = wrapper.children(KWINDOWCONTENT);\n                that._tabindex(windowContent);\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n                wrapper.on('mouseenter' + NS, TITLEBAR_BUTTONS, proxy(that._buttonEnter, that)).on('mouseleave' + NS, TITLEBAR_BUTTONS, proxy(that._buttonLeave, that)).on('click' + NS, '> ' + TITLEBAR_BUTTONS, proxy(that._windowActionHandler, that)).on('keydown' + NS, proxy(that._keydown, that)).on('focus' + NS, proxy(that._focus, that)).on('blur' + NS, proxy(that._blur, that));\n                windowContent.on('keydown' + NS, proxy(that._keydown, that)).on('focus' + NS, proxy(that._focus, that)).on('blur' + NS, proxy(that._blur, that));\n                windowFrame = windowContent.find('.' + KCONTENTFRAME)[0];\n                if (windowFrame && !globalWindow.data(WINDOWEVENTSHANDLED)) {\n                    globalWindow.on('blur' + NS, function () {\n                        var element = $(document.activeElement).parent(KWINDOWCONTENT);\n                        if (element.length) {\n                            var windowInstance = kendo.widgetInstance(element);\n                            windowInstance._focus();\n                        }\n                    });\n                    globalWindow.on('focus' + NS, function () {\n                        $(KWINDOWCONTENT).not(KDIALOGCONTENT).each(function (i, element) {\n                            kendo.widgetInstance($(element))._blur();\n                        });\n                    });\n                    globalWindow.data(WINDOWEVENTSHANDLED, true);\n                }\n                this._resizable();\n                this._draggable();\n                if (options.pinned && this.wrapper.is(':visible')) {\n                    that.pin();\n                }\n                id = element.attr('id');\n                if (id) {\n                    id = id + '_wnd_title';\n                    wrapper.children(KWINDOWTITLEBAR).children(KWINDOWTITLE).attr('id', id);\n                    windowContent.attr({\n                        'role': 'dialog',\n                        'aria-labelledby': id\n                    });\n                }\n                wrapper.add(wrapper.children('.k-resize-handle,' + KWINDOWTITLEBAR)).on('mousedown' + NS, proxy(that.toFront, that));\n                that.touchScroller = kendo.touchScroller(element);\n                that._resizeHandler = proxy(that._onDocumentResize, that);\n                that._marker = kendo.guid().substring(0, 8);\n                $(window).on('resize' + NS + that._marker, that._resizeHandler);\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n                kendo.notify(that);\n                if (this.options.modal) {\n                    this._tabKeyTrap = new TabKeyTrap(wrapper);\n                    this._tabKeyTrap.trap();\n                    this._tabKeyTrap.shouldTrap = function () {\n                        return windowContent.data('isFront');\n                    };\n                }\n            },\n            _buttonEnter: function (e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n            _buttonLeave: function (e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n            _focus: function () {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n            _blur: function () {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n            _dimensions: function () {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var dimensions = [\n                    'minWidth',\n                    'minHeight',\n                    'maxWidth',\n                    'maxHeight'\n                ];\n                this.title(options.title);\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || '';\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n                if (maxHeight != Infinity) {\n                    this.element.css('maxHeight', maxHeight);\n                }\n                if (width) {\n                    if (isNaN(width) && width.toString().indexOf('px') < 0) {\n                        wrapper.width(width);\n                    } else {\n                        wrapper.width(constrain(width, options.minWidth, options.maxWidth));\n                    }\n                } else {\n                    wrapper.width('');\n                }\n                if (height) {\n                    if (isNaN(height) && height.toString().indexOf('px') < 0) {\n                        wrapper.height(height);\n                    } else {\n                        wrapper.height(constrain(height, options.minHeight, options.maxHeight));\n                    }\n                } else {\n                    wrapper.height('');\n                }\n                if (!options.visible) {\n                    wrapper.hide();\n                }\n            },\n            _position: function () {\n                var wrapper = this.wrapper, position = this.options.position;\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n                wrapper.css({\n                    top: position.top || '',\n                    left: position.left || ''\n                });\n            },\n            _animationOptions: function (id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: {\n                        hide: true,\n                        effects: {}\n                    }\n                };\n                return animation && animation[id] || basicAnimation[id];\n            },\n            _resize: function () {\n                kendo.resize(this.element.children());\n            },\n            _resizable: function () {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n                if (this.resizing) {\n                    wrapper.off('dblclick' + NS).children(KWINDOWRESIZEHANDLES).remove();\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n                if (resizable) {\n                    wrapper.on('dblclick' + NS, KWINDOWTITLEBAR, proxy(function (e) {\n                        if (!$(e.target).closest('.k-window-action').length) {\n                            this.toggleMaximization();\n                        }\n                    }, this));\n                    each('n e s w se sw ne nw'.split(' '), function (index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n                    this.resizing = new WindowResizing(this);\n                }\n                wrapper = null;\n            },\n            _draggable: function () {\n                var draggable = this.options.draggable;\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR);\n                }\n            },\n            _actions: function () {\n                var options = this.options;\n                var actions = options.actions;\n                var pinned = options.pinned;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find('.k-window-actions');\n                var windowSpecificCommands = [\n                    'maximize',\n                    'minimize'\n                ];\n                actions = $.map(actions, function (action) {\n                    action = pinned && action.toLowerCase() === 'pin' ? 'unpin' : action;\n                    return { name: windowSpecificCommands.indexOf(action.toLowerCase()) > -1 ? 'window-' + action : action };\n                });\n                container.html(kendo.render(templates.action, actions));\n            },\n            setOptions: function (options) {\n                var cachedOptions = JSON.parse(JSON.stringify(options));\n                extend(options.position, this.options.position);\n                extend(options.position, cachedOptions.position);\n                Widget.fn.setOptions.call(this, options);\n                var scrollable = this.options.scrollable !== false;\n                this.restore();\n                this._dimensions();\n                this._position();\n                this._resizable();\n                this._draggable();\n                this._actions();\n                if (typeof options.modal !== 'undefined') {\n                    var visible = this.options.visible !== false;\n                    this._overlay(options.modal && visible);\n                }\n                this.element.css(OVERFLOW, scrollable ? '' : 'hidden');\n            },\n            events: [\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                ERROR\n            ],\n            options: {\n                name: 'Window',\n                animation: {\n                    open: {\n                        effects: {\n                            zoom: { direction: 'in' },\n                            fade: { direction: 'in' }\n                        },\n                        duration: 350\n                    },\n                    close: {\n                        effects: {\n                            zoom: {\n                                direction: 'out',\n                                properties: { scale: 0.7 }\n                            },\n                            fade: { direction: 'out' }\n                        },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: '',\n                actions: ['Close'],\n                autoFocus: true,\n                modal: false,\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: 'body',\n                isMaximized: false,\n                isMinimized: false\n            },\n            _closable: function () {\n                return $.inArray('close', $.map(this.options.actions, function (x) {\n                    return x.toLowerCase();\n                })) > -1;\n            },\n            _keydown: function (e) {\n                var that = this, options = that.options, keys = kendo.keys, keyCode = e.keyCode, wrapper = that.wrapper, offset, handled, distance = 10, isMaximized = that.options.isMaximized, isMinimized = that.options.isMinimized, newWidth, newHeight, w, h;\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n                if (e.altKey && keyCode == 82) {\n                    that.refresh();\n                }\n                if (e.altKey && keyCode == 80) {\n                    if (that.options.pinned) {\n                        that.unpin();\n                    } else {\n                        that.pin();\n                    }\n                }\n                if (e.altKey && keyCode == keys.UP) {\n                    if (isMinimized) {\n                        that.restore();\n                        that.element.focus();\n                    } else if (!isMaximized) {\n                        that.maximize();\n                        that.element.focus();\n                    }\n                } else if (e.altKey && keyCode == keys.DOWN) {\n                    if (!isMinimized && !isMaximized) {\n                        that.minimize();\n                        that.wrapper.focus();\n                    } else if (isMaximized) {\n                        that.restore();\n                        that.element.focus();\n                    }\n                }\n                if (options.draggable && !e.ctrlKey && !e.altKey && !isMaximized) {\n                    offset = kendo.getOffset(wrapper);\n                    if (keyCode == keys.UP) {\n                        handled = wrapper.css('top', offset.top - distance);\n                    } else if (keyCode == keys.DOWN) {\n                        handled = wrapper.css('top', offset.top + distance);\n                    } else if (keyCode == keys.LEFT) {\n                        handled = wrapper.css('left', offset.left - distance);\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = wrapper.css('left', offset.left + distance);\n                    }\n                }\n                if (options.resizable && e.ctrlKey && !isMaximized && !isMinimized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.height() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        newHeight = wrapper.height() + distance;\n                    }\n                    if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.width() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        newWidth = wrapper.width() + distance;\n                    }\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n                        if (!isNaN(w)) {\n                            wrapper.width(w);\n                            that.options.width = w + 'px';\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.height(h);\n                            that.options.height = h + 'px';\n                        }\n                        that.resize();\n                    }\n                }\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n            _overlay: function (visible) {\n                var overlay = this.appendTo.children(KOVERLAY), wrapper = this.wrapper;\n                if (!overlay.length) {\n                    overlay = $('<div class=\\'k-overlay\\' />');\n                }\n                overlay.insertBefore(wrapper[0]).toggle(visible).css(ZINDEX, parseInt(wrapper.css(ZINDEX), 10) - 1);\n                return overlay;\n            },\n            _actionForIcon: function (icon) {\n                var iconClass = /\\bk-i(-\\w+)+\\b/.exec(icon[0].className)[0];\n                return {\n                    'k-i-close': '_close',\n                    'k-i-window-maximize': 'maximize',\n                    'k-i-window-minimize': 'minimize',\n                    'k-i-window-restore': 'restore',\n                    'k-i-refresh': 'refresh',\n                    'k-i-pin': 'pin',\n                    'k-i-unpin': 'unpin'\n                }[iconClass];\n            },\n            _windowActionHandler: function (e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest('.k-window-action').find('.k-icon');\n                var action = this._actionForIcon(icon);\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n            _modals: function () {\n                var that = this;\n                var zStack = $(KWINDOW).filter(function () {\n                    var dom = $(this);\n                    var object = that._object(dom);\n                    var options = object && object.options;\n                    return options && options.modal && options.visible && options.appendTo === that.options.appendTo && dom.is(VISIBLE);\n                }).sort(function (a, b) {\n                    return +$(a).css('zIndex') - +$(b).css('zIndex');\n                });\n                that = null;\n                return zStack;\n            },\n            _object: function (element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = kendo.widgetInstance(content);\n                if (widget) {\n                    return widget;\n                }\n                return undefined;\n            },\n            center: function () {\n                var that = this, position = that.options.position, wrapper = that.wrapper, documentWindow = $(window), scrollTop = 0, scrollLeft = 0, newTop, newLeft;\n                if (that.options.isMaximized) {\n                    return that;\n                }\n                if (that.options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n                newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.width()) / 2);\n                newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.height() - parseInt(wrapper.css('paddingTop'), 10)) / 2);\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n                position.top = newTop;\n                position.left = newLeft;\n                return that;\n            },\n            title: function (text) {\n                var that = this, wrapper = that.wrapper, options = that.options, titleBar = wrapper.children(KWINDOWTITLEBAR), title = titleBar.children(KWINDOWTITLE), titleBarHeight;\n                if (!arguments.length) {\n                    return title.html();\n                }\n                if (text === false) {\n                    wrapper.addClass('k-window-titleless');\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar(options));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        title.html(kendo.htmlEncode(text));\n                    }\n                    titleBarHeight = parseInt(outerHeight(titleBar), 10);\n                    wrapper.css('padding-top', titleBarHeight);\n                    titleBar.css('margin-top', -titleBarHeight);\n                }\n                that.options.title = text;\n                return that;\n            },\n            content: function (html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT), scrollContainer = content.children('.km-scroll-container');\n                content = scrollContainer[0] ? scrollContainer : content;\n                if (!defined(html)) {\n                    return content.html();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: content.children() };\n                });\n                kendo.destroy(this.element.children());\n                content.empty().html(html);\n                this.angular('compile', function () {\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n                return this;\n            },\n            open: function () {\n                var that = this, wrapper = that.wrapper, options = that.options, showOptions = this._animationOptions('open'), contentElement = wrapper.children(KWINDOWCONTENT), overlay, otherModalsVisible, doc = $(document);\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n                    that._closing = false;\n                    that.toFront();\n                    if (options.autoFocus) {\n                        that.element.focus();\n                    }\n                    options.visible = true;\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n                        overlay.kendoStop(true, true);\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css('opacity', 0.5);\n                        }\n                        overlay.show();\n                        $(window).on('focus' + MODAL_NS, function () {\n                            if (contentElement.data('isFront') && !$(document.activeElement).closest(contentElement).length) {\n                                that.element.focus();\n                            }\n                        });\n                    }\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n                        wrapper.show().kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: proxy(this._activate, this)\n                        });\n                    }\n                }\n                if (options.isMaximized) {\n                    that._documentScrollTop = doc.scrollTop();\n                    that._documentScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                }\n                if (options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n                return that;\n            },\n            _activate: function () {\n                var scrollable = this.options.scrollable !== false;\n                if (this.options.autoFocus) {\n                    this.element.focus();\n                }\n                this.element.css(OVERFLOW, scrollable ? '' : 'hidden');\n                kendo.resize(this.element.children());\n                this.trigger(ACTIVATE);\n            },\n            _removeOverlay: function (suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var overlay = options.modal ? this._overlay(true) : $(undefined);\n                var hideOptions = this._animationOptions('close');\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(overlay).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n                }\n            },\n            _close: function (systemTriggered) {\n                var that = this, wrapper = that.wrapper, options = that.options, showOptions = this._animationOptions('open'), hideOptions = this._animationOptions('close'), doc = $(document), defaultPrevented;\n                if (that._closing) {\n                    return;\n                }\n                defaultPrevented = that.trigger(CLOSE, { userTriggered: !systemTriggered });\n                that._closing = !defaultPrevented;\n                if (wrapper.is(VISIBLE) && !defaultPrevented) {\n                    options.visible = false;\n                    $(KWINDOW).each(function (i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n                        if (element != wrapper && contentElement.find('> .' + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n                    this._removeOverlay();\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: proxy(this._deactivate, this)\n                    });\n                    $(window).off(MODAL_NS);\n                }\n                if (that.options.isMaximized) {\n                    that._enableDocumentScrolling();\n                    if (that._documentScrollTop && that._documentScrollTop > 0) {\n                        doc.scrollTop(that._documentScrollTop);\n                    }\n                    if (that._documentScrollLeft && that._documentScrollLeft > 0) {\n                        doc.scrollLeft(that._documentScrollLeft);\n                    }\n                }\n            },\n            _deactivate: function () {\n                var that = this;\n                that.wrapper.hide().css('opacity', '');\n                that.trigger(DEACTIVATE);\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n            close: function () {\n                this._close(true);\n                return this;\n            },\n            _actionable: function (element) {\n                return $(element).is(TITLEBAR_BUTTONS + ',' + TITLEBAR_BUTTONS + ' .k-icon,:input,a');\n            },\n            _shouldFocus: function (target) {\n                var active = activeElement(), element = this.element;\n                return this.options.autoFocus && !$(active).is(element) && !this._actionable(target) && (!element.find(active).length || !element.find(target).length);\n            },\n            toFront: function (e) {\n                var that = this, wrapper = that.wrapper, currentWindow = wrapper[0], zIndex = +wrapper.css(ZINDEX), originalZIndex = zIndex, target = e && e.target || null;\n                $(KWINDOW).each(function (i, element) {\n                    var windowObject = $(element), zIndexNew = windowObject.css(ZINDEX), contentElement = windowObject.children(KWINDOWCONTENT);\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n                    contentElement.data('isFront', element == currentWindow);\n                    if (element != currentWindow && contentElement.find('> .' + KCONTENTFRAME).length > 0) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find('> .k-overlay').remove();\n                if (that._shouldFocus(target)) {\n                    if (that.isMinimized()) {\n                        that.wrapper.focus();\n                    } else if ($(target).is(KOVERLAY)) {\n                        setTimeout(function () {\n                            that.element.focus();\n                        });\n                    } else {\n                        that.element.focus();\n                    }\n                    var scrollTop = $(window).scrollTop(), windowTop = parseInt(wrapper.position().top, 10);\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css('top', scrollTop);\n                        }\n                    }\n                }\n                wrapper = null;\n                return that;\n            },\n            toggleMaximization: function () {\n                if (this._closing) {\n                    return this;\n                }\n                return this[this.options.isMaximized ? 'restore' : 'maximize']();\n            },\n            restore: function () {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var doc = $(document);\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css('min-height', minHeight);\n                }\n                that.wrapper.css({\n                    position: options.pinned ? 'fixed' : 'absolute',\n                    left: restoreOptions.left,\n                    top: restoreOptions.top,\n                    width: restoreOptions.width,\n                    height: restoreOptions.height\n                }).removeClass(MAXIMIZEDSTATE).find('.k-window-content,.k-resize-handle').show().end().find('.k-window-titlebar .k-i-window-restore').parent().remove().end().end().find(MINIMIZE_MAXIMIZE).parent().show().end().end().find(PIN_UNPIN).parent().show();\n                if (options.isMaximized) {\n                    that.wrapper.find('.k-i-window-maximize').parent().focus();\n                } else if (options.isMinimized) {\n                    that.wrapper.find('.k-i-window-minimize').parent().focus();\n                }\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n                that._enableDocumentScrolling();\n                if (this._documentScrollTop && this._documentScrollTop > 0) {\n                    doc.scrollTop(this._documentScrollTop);\n                }\n                if (this._documentScrollLeft && this._documentScrollLeft > 0) {\n                    doc.scrollLeft(this._documentScrollLeft);\n                }\n                options.isMaximized = options.isMinimized = false;\n                this.wrapper.removeAttr('tabindex');\n                this.wrapper.removeAttr('aria-labelled-by');\n                that.resize();\n                return that;\n            },\n            _sizingAction: function (actionId, callback) {\n                var that = this, wrapper = that.wrapper, style = wrapper[0].style, options = that.options;\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n                wrapper.children(KWINDOWRESIZEHANDLES).hide().end().children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide().eq(0).before(templates.action({ name: 'window-restore' }));\n                callback.call(that);\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle(actionId !== 'maximize');\n                that.trigger(actionId);\n                wrapper.find('.k-i-window-restore').parent().focus();\n                return that;\n            },\n            maximize: function () {\n                this._sizingAction('maximize', function () {\n                    var that = this, wrapper = that.wrapper, position = wrapper.position(), doc = $(document);\n                    extend(that.restoreOptions, {\n                        left: position.left,\n                        top: position.top\n                    });\n                    wrapper.css({\n                        left: 0,\n                        top: 0,\n                        position: 'fixed'\n                    }).addClass(MAXIMIZEDSTATE);\n                    this._documentScrollTop = doc.scrollTop();\n                    this._documentScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                    that.options.isMaximized = true;\n                    that._onDocumentResize();\n                });\n                return this;\n            },\n            _stopDocumentScrolling: function () {\n                var that = this;\n                var $body = $('body');\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n                var $html = $('html');\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n            },\n            _enableDocumentScrolling: function () {\n                var that = this;\n                that._restoreOverflowRule($(document.body));\n                that._restoreOverflowRule($('html'));\n            },\n            _storeOverflowRule: function ($element) {\n                if (this._isOverflowStored($element)) {\n                    return;\n                }\n                var overflowRule = $element.get(0).style.overflow;\n                if (typeof overflowRule === 'string') {\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n            _isOverflowStored: function ($element) {\n                return typeof $element.data(DATADOCOVERFLOWRULE) === 'string';\n            },\n            _restoreOverflowRule: function ($element) {\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n                if (overflowRule !== null && overflowRule !== undefined) {\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, '');\n                }\n            },\n            isMaximized: function () {\n                return this.options.isMaximized;\n            },\n            minimize: function () {\n                this._sizingAction('minimize', function () {\n                    var that = this;\n                    that.wrapper.css({\n                        height: '',\n                        minHeight: ''\n                    });\n                    that.element.hide();\n                    that.options.isMinimized = true;\n                });\n                this.wrapper.attr('tabindex', 0);\n                this.wrapper.attr('aria-labelled-by', this.element.attr('aria-labelled-by'));\n                return this;\n            },\n            isMinimized: function () {\n                return this.options.isMinimized;\n            },\n            pin: function () {\n                var that = this, win = $(window), wrapper = that.wrapper, top = parseInt(wrapper.css('top'), 10), left = parseInt(wrapper.css('left'), 10);\n                if (!that.options.isMaximized) {\n                    wrapper.css({\n                        position: 'fixed',\n                        top: top - win.scrollTop(),\n                        left: left - win.scrollLeft()\n                    });\n                    wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass('k-i-unpin').removeClass('k-i-pin');\n                    that._isPinned = true;\n                    that.options.pinned = true;\n                }\n            },\n            unpin: function () {\n                var that = this, win = $(window), wrapper = that.wrapper, top = parseInt(wrapper.css('top'), 10), left = parseInt(wrapper.css('left'), 10);\n                if (!that.options.isMaximized) {\n                    wrapper.css({\n                        position: '',\n                        top: top + win.scrollTop(),\n                        left: left + win.scrollLeft()\n                    });\n                    wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass('k-i-pin').removeClass('k-i-unpin');\n                    that._isPinned = false;\n                    that.options.pinned = false;\n                }\n            },\n            _onDocumentResize: function () {\n                var that = this, wrapper = that.wrapper, wnd = $(window), zoomLevel = kendo.support.zoomLevel(), w, h;\n                if (!that.options.isMaximized) {\n                    return;\n                }\n                var lrBorderWidth = parseInt(wrapper.css('border-left-width'), 10) + parseInt(wrapper.css('border-right-width'), 10);\n                var tbBorderWidth = parseInt(wrapper.css('border-top-width'), 10) + parseInt(wrapper.css('border-bottom-width'), 10);\n                w = wnd.width() / zoomLevel - lrBorderWidth;\n                h = wnd.height() / zoomLevel - parseInt(wrapper.css('padding-top'), 10) - tbBorderWidth;\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n                that.resize();\n            },\n            refresh: function (options) {\n                var that = this, initOptions = that.options, element = $(that.element), iframe, showIframe, url;\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n                options = extend({}, initOptions.content, options);\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n                url = options.url;\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n                    if (!showIframe) {\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find('.' + KCONTENTFRAME)[0];\n                        if (iframe) {\n                            iframe.src = url || iframe.src;\n                        } else {\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n                        element.find('.' + KCONTENTFRAME).unbind('load' + NS).on('load' + NS, proxy(this._triggerRefresh, this));\n                    }\n                } else {\n                    if (options.template) {\n                        that.content(template(options.template)({}));\n                    }\n                    that.trigger(REFRESH);\n                }\n                element.toggleClass('k-window-iframecontent', !!showIframe);\n                return that;\n            },\n            _triggerRefresh: function () {\n                this.trigger(REFRESH);\n            },\n            _ajaxComplete: function () {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICON).removeClass(LOADING);\n            },\n            _ajaxError: function (xhr, status) {\n                this.trigger(ERROR, {\n                    status: status,\n                    xhr: xhr\n                });\n            },\n            _ajaxSuccess: function (contentTemplate) {\n                return function (data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n                    this.content(html, data);\n                    this.element.prop('scrollTop', 0);\n                    this.trigger(REFRESH);\n                };\n            },\n            _showLoading: function () {\n                this.wrapper.find(REFRESHICON).addClass(LOADING);\n            },\n            _ajaxRequest: function (options) {\n                this._loadingIconTimeout = setTimeout(proxy(this._showLoading, this), 100);\n                $.ajax(extend({\n                    type: 'GET',\n                    dataType: 'html',\n                    cache: false,\n                    error: proxy(this._ajaxError, this),\n                    complete: proxy(this._ajaxComplete, this),\n                    success: proxy(this._ajaxSuccess(options.template), this)\n                }, options));\n            },\n            _destroy: function () {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n                this.wrapper.off(NS).children(KWINDOWCONTENT).off(NS).end().find('.k-resize-handle,.k-window-titlebar').off(NS);\n                $(window).off('resize' + NS + this._marker);\n                $(window).off(MODAL_NS);\n                $(window).off(NS);\n                clearTimeout(this._loadingIconTimeout);\n                Widget.fn.destroy.call(this);\n                this.unbind(undefined);\n                kendo.destroy(this.wrapper);\n                this._removeOverlay(true);\n            },\n            destroy: function () {\n                this._destroy();\n                this.wrapper.empty().remove();\n                this.wrapper = this.appendTo = this.element = $();\n            },\n            _createWindow: function () {\n                var contentHtml = this.element, options = this.options, iframeSrcAttributes, wrapper, isRtl = kendo.support.isRtl(contentHtml);\n                if (options.scrollable === false) {\n                    contentHtml.css('overflow', 'hidden');\n                }\n                wrapper = $(templates.wrapper(options));\n                iframeSrcAttributes = contentHtml.find('iframe:not(.k-content)').map(function () {\n                    var src = this.getAttribute('src');\n                    this.src = '';\n                    return src;\n                });\n                wrapper.toggleClass('k-rtl', isRtl).appendTo(this.appendTo).append(contentHtml).find('iframe:not(.k-content)').each(function (index) {\n                    this.src = iframeSrcAttributes[index];\n                });\n                wrapper.find('.k-window-title').css(isRtl ? 'left' : 'right', outerWidth(wrapper.find('.k-window-actions')) + 10);\n                contentHtml.css('visibility', '').show();\n                contentHtml.find('[data-role=editor]').each(function () {\n                    var editor = $(this).data('kendoEditor');\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n                wrapper = contentHtml = null;\n            }\n        });\n        templates = {\n            wrapper: template('<div class=\\'k-widget k-window\\' />'),\n            action: template('<a role=\\'button\\' href=\\'\\\\#\\' class=\\'k-button k-bare k-button-icon k-window-action\\' aria-label=\\'#= name #\\'>' + '<span class=\\'k-icon k-i-#= name.toLowerCase() #\\'></span>' + '</a>'),\n            titlebar: template('<div class=\\'k-window-titlebar k-header\\'>' + '<span class=\\'k-window-title\\'>#: title #</span>' + '<div class=\\'k-window-actions\\' />' + '</div>'),\n            overlay: '<div class=\\'k-overlay\\' />',\n            contentFrame: template('<iframe frameborder=\\'0\\' title=\\'#= title #\\' class=\\'' + KCONTENTFRAME + '\\' ' + 'src=\\'#= content.url #\\'>' + 'This page requires frames in order to show content' + '</iframe>'),\n            resizeHandle: template('<div class=\\'k-resize-handle k-resize-#= data #\\'></div>')\n        };\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: '>' + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + '-resizing',\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that)\n            });\n            that._draggable.userEvents.bind('press', proxy(that.addOverlay, that));\n            that._draggable.userEvents.bind('release', proxy(that.removeOverlay, that));\n        }\n        function getPosition(elem) {\n            var result = {\n                    top: elem.offsetTop,\n                    left: elem.offsetLeft\n                }, parent = elem.offsetParent;\n            while (parent) {\n                result.top += parent.offsetTop;\n                result.left += parent.offsetLeft;\n                var parentOverflowX = $(parent).css('overflowX');\n                var parentOverflowY = $(parent).css('overflowY');\n                if (parentOverflowY === 'auto' || parentOverflowY === 'scroll') {\n                    result.top -= parent.scrollTop;\n                }\n                if (parentOverflowX === 'auto' || parentOverflowX === 'scroll') {\n                    result.left -= parent.scrollLeft;\n                }\n                parent = parent.offsetParent;\n            }\n            return result;\n        }\n        WindowResizing.prototype = {\n            addOverlay: function () {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function () {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function (e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n                that.elementPadding = parseInt(wrapper.css('padding-top'), 10);\n                that.initialPosition = kendo.getOffset(wrapper, 'position');\n                that.resizeDirection = e.currentTarget.prop('className').replace('k-resize-handle k-resize-', '');\n                that.initialSize = {\n                    width: wrapper.width(),\n                    height: wrapper.height()\n                };\n                that.containerOffset = kendo.getOffset(wnd.appendTo, 'position');\n                var offsetParent = wrapper.offsetParent();\n                if (offsetParent.is('html')) {\n                    that.containerOffset.top = that.containerOffset.left = 0;\n                } else {\n                    var marginTop = offsetParent.css('margin-top');\n                    var marginLeft = offsetParent.css('margin-left');\n                    var hasMargin = !zero.test(marginTop) || !zero.test(marginLeft);\n                    if (hasMargin) {\n                        var wrapperPosition = getPosition(wrapper[0]);\n                        var relativeElMarginLeft = wrapperPosition.left - that.containerOffset.left - that.initialPosition.left;\n                        var relativeElMarginTop = wrapperPosition.top - that.containerOffset.top - that.initialPosition.top;\n                        that._relativeElMarginLeft = relativeElMarginLeft > 1 ? relativeElMarginLeft : 0;\n                        that._relativeElMarginTop = relativeElMarginTop > 1 ? relativeElMarginTop : 0;\n                        that.initialPosition.left += that._relativeElMarginLeft;\n                        that.initialPosition.top += that._relativeElMarginTop;\n                    }\n                }\n                wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this, wnd = that.owner, wrapper = wnd.wrapper, options = wnd.options, direction = that.resizeDirection, containerOffset = that.containerOffset, initialPosition = that.initialPosition, initialSize = that.initialSize, newWidth, newHeight, windowBottom, windowRight, x = Math.max(e.x.location, 0), y = Math.max(e.y.location, 0);\n                if (direction.indexOf('e') >= 0) {\n                    newWidth = x - initialPosition.left - containerOffset.left;\n                    wrapper.width(constrain(newWidth, options.minWidth, options.maxWidth));\n                } else if (direction.indexOf('w') >= 0) {\n                    windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                    newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                    wrapper.css({\n                        left: windowRight - newWidth - containerOffset.left - (that._relativeElMarginLeft || 0),\n                        width: newWidth\n                    });\n                }\n                var newWindowTop = y;\n                if (wnd.options.pinned) {\n                    newWindowTop -= $(window).scrollTop();\n                }\n                if (direction.indexOf('s') >= 0) {\n                    newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n                    wrapper.height(constrain(newHeight, options.minHeight, options.maxHeight));\n                } else if (direction.indexOf('n') >= 0) {\n                    windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                    newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                    wrapper.css({\n                        top: windowBottom - newHeight - containerOffset.top - (that._relativeElMarginTop || 0),\n                        height: newHeight\n                    });\n                }\n                if (newWidth) {\n                    wnd.options.width = newWidth + 'px';\n                }\n                if (newHeight) {\n                    wnd.options.height = newHeight + 'px';\n                }\n                wnd.resize();\n            },\n            dragend: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this, wnd = that.owner, wrapper = wnd.wrapper;\n                wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n                $(BODY).css(CURSOR, '');\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition).css(that.initialSize);\n                }\n                wnd.trigger(RESIZEEND);\n                return false;\n            },\n            destroy: function () {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n                this._draggable = this.owner = null;\n            }\n        };\n        function WindowDragging(wnd, dragHandle) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + '-moving',\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that),\n                dragcancel: proxy(that.dragcancel, that)\n            });\n            that._draggable.userEvents.stopPropagation = false;\n        }\n        WindowDragging.prototype = {\n            dragstart: function (e) {\n                var wnd = this.owner, element = wnd.element, actions = element.find('.k-window-actions'), containerOffset = kendo.getOffset(wnd.appendTo);\n                this._preventDragging = wnd.trigger(DRAGSTART) || !wnd.options.draggable;\n                if (this._preventDragging) {\n                    return;\n                }\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, 'position');\n                wnd.initialPointerPosition = {\n                    left: e.x.client,\n                    top: e.y.client\n                };\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n                if (actions.length > 0) {\n                    wnd.minLeftPosition = outerWidth(actions) + parseInt(actions.css('right'), 10) - outerWidth(element);\n                } else {\n                    wnd.minLeftPosition = 20 - outerWidth(element);\n                }\n                wnd.minLeftPosition -= containerOffset.left;\n                wnd.minTopPosition = -containerOffset.top;\n                wnd.wrapper.append(templates.overlay).children(KWINDOWRESIZEHANDLES).hide();\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                position.top = Math.max(e.y.client - wnd.startPosition.top, wnd.minTopPosition);\n                position.left = Math.max(e.x.client - wnd.startPosition.left, wnd.minLeftPosition);\n                if (kendo.support.transforms) {\n                    $(wnd.wrapper).css('transform', 'translate(' + (e.x.client - wnd.initialPointerPosition.left) + 'px, ' + (e.y.client - wnd.initialPointerPosition.top) + 'px)');\n                } else {\n                    $(wnd.wrapper).css(position);\n                }\n            },\n            _finishDrag: function () {\n                var wnd = this.owner;\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end().find(KOVERLAY).remove();\n                $(BODY).css(CURSOR, '');\n            },\n            dragcancel: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n            dragend: function () {\n                if (this._preventDragging) {\n                    return;\n                }\n                $(this.owner.wrapper).css(this.owner.options.position).css('transform', '');\n                this._finishDrag();\n                this.owner.trigger(DRAGEND);\n                return false;\n            },\n            destroy: function () {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n                this._draggable = this.owner = null;\n            }\n        };\n        kendo.ui.plugin(Window);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}